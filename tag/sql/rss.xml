<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title> â€¢ Posts by &#34;sql&#34; tag</title>
        <link>http://example.com</link>
        <description>ðŸŒ¸</description>
        <language>zh-CN</language>
        <pubDate>Wed, 30 Oct 2024 12:17:45 +1000</pubDate>
        <lastBuildDate>Wed, 30 Oct 2024 12:17:45 +1000</lastBuildDate>
        <category>C</category>
        <category>software security</category>
        <category>AFL</category>
        <category>Linux</category>
        <category>network system</category>
        <category>C language</category>
        <category>vulnerability</category>
        <category>HTTP</category>
        <category>XSS</category>
        <category>CSRF</category>
        <category>IP</category>
        <category>DHCP</category>
        <category>ICMP</category>
        <category>ARP</category>
        <category>router</category>
        <category>Supernet</category>
        <category>IPv4</category>
        <category>Subnet</category>
        <category>TCP</category>
        <category>UDP</category>
        <category>OSI</category>
        <category>TCP/IP</category>
        <category>SQL</category>
        <category>gdb</category>
        <category>JavaScript</category>
        <category>Blog</category>
        <category>æ—¥å¸¸</category>
        <item>
            <guid isPermalink="true">http://example.com/course/SQL-Injection/</guid>
            <title>SQL Injection</title>
            <link>http://example.com/course/SQL-Injection/</link>
            <category>software security</category>
            <category>SQL</category>
            <pubDate>Wed, 30 Oct 2024 12:17:45 +1000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;SQL Injection&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#SQL Injection&#34;&gt;#&lt;/a&gt;SQL Injection&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Exploit vulnerabilities in input validation to run arbitrary commands in the database
&lt;ul&gt;
&lt;li&gt;Using user input to construct dynamic SQL statements to access the database&lt;/li&gt;
&lt;li&gt;Using stored procedures that are passed strings that contain unfiltered user input&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Attacker can execute arbitrary commands in the database
&lt;ul&gt;
&lt;li&gt;Worse if the application uses a privileged account to connect to the database&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight php&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$selecteduser&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$_GET&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;user&amp;#x27;&lt;/span&gt;];  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;variable&#34;&gt;$sql&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;quot;SELECT Username, Key FROM Key &amp;quot;&lt;/span&gt; .  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;string&#34;&gt;&amp;quot;WHERE Username=&amp;#x27;&lt;span class=&#34;subst&#34;&gt;$selecteduser&lt;/span&gt;&amp;#x27;&amp;quot;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;variable&#34;&gt;$rs&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;executeQuery&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$sql&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ &lt;code&gt;$selecteduser&lt;/code&gt;  æ˜¯ä»Žç”¨æˆ·è¾“å…¥ä¸­ç›´æŽ¥èŽ·å–çš„ï¼Œå®ƒè¢«æ— è¿‡æ»¤åœ°æ’å…¥åˆ° SQL æŸ¥è¯¢ä¸­ã€‚ç”±äºŽæ²¡æœ‰å¯¹  &lt;code&gt;$selecteduser&lt;/code&gt;  è¿›è¡Œä»»ä½•è¿‡æ»¤æˆ–è½¬ä¹‰ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨è¾“å…¥ä¸­æ·»åŠ æ¶æ„çš„ SQL è¯­å¥ï¼Œæ”¹å˜åŽŸå§‹æŸ¥è¯¢çš„å«ä¹‰ã€‚å‡è®¾æ”»å‡»è€…æä¾›ä»¥ä¸‹è¾“å…¥ä½œä¸º user å‚æ•°ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;admin&lt;span class=&#34;string&#34;&gt;&amp;#x27; OR &amp;#x27;&lt;/span&gt;1&lt;span class=&#34;string&#34;&gt;&amp;#x27;=&amp;#x27;&lt;/span&gt;1 &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™å°†å¯¼è‡´æŸ¥è¯¢å˜æˆï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; Username, Key &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; Key &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; Username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;admin&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;OR&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;1&amp;#x27;&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;1&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ &lt;code&gt;OR &#39;1&#39;=&#39;1&#39;&lt;/code&gt;  æ°¸è¿œä¸ºçœŸï¼Œè¿™æ„å‘³ç€æ•°æ®åº“å°†è¿”å›žæ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯  &lt;code&gt;admin&lt;/code&gt;  ç”¨æˆ·çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/6721ec7cbba70.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;Example&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#Example&#34;&gt;#&lt;/a&gt;Example&lt;/h1&gt;
&lt;p&gt;SQL Injections Can be Used to â€¦&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Login&lt;br&gt;
SQL æ³¨å…¥ æ˜¯ä¸€ç§é€šè¿‡æ“æŽ§ç”¨æˆ·è¾“å…¥ï¼Œä½¿ä¹‹ç›´æŽ¥åµŒå…¥ SQL æŸ¥è¯¢ï¼Œä»Žè€Œæ”¹å˜æŸ¥è¯¢é€»è¾‘çš„æ”»å‡»æ–¹å¼ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ç§æ–¹å¼èŽ·å–æœªç»æŽˆæƒçš„æ•°æ®åº“è®¿é—®ï¼Œç”šè‡³èŽ·å–æ•æ„Ÿæ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;set&lt;/span&gt; userFound&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;execute&lt;/span&gt;( &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &amp;quot;SELECT * FROM USERS WHERE &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    username=&amp;#x27;$username&amp;#x27; AND password=&amp;#x27;$password&amp;#x27;;&amp;quot;); &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;To authenticate logins, server runs this SQL command against the user database&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; USERS &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;$username&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;AND&lt;/span&gt; password&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;$password&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;User enters the following as  &lt;code&gt;$username&lt;/code&gt;  and  &lt;code&gt;$password&lt;/code&gt;&lt;/p&gt;
 &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27; OR password LIKE &amp;#x27;&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;%&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Server then executes&lt;/p&gt;
 &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; USERS &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;OR&lt;/span&gt; password &lt;span class=&#34;keyword&#34;&gt;LIKE&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;AND&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  password&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;OR&lt;/span&gt; password &lt;span class=&#34;keyword&#34;&gt;LIKE&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;username=&#39;&#39; OR password LIKE &#39;%&#39;&lt;/code&gt;  çš„æ¡ä»¶æ€»æ˜¯ä¸ºçœŸï¼Œå› ä¸º  &lt;code&gt;password LIKE &#39;%&#39; &lt;/code&gt; å¯ä»¥åŒ¹é…ä»»ä½•å¯†ç ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Steal Data&lt;br&gt;
 æ”»å‡»è€…ä½¿ç”¨ä¸€ç§å¸¸è§çš„æŠ€å·§ï¼Œé€šè¿‡æž„é€ ç‰¹æ®Šçš„è¾“å…¥ï¼Œä½¿æŸ¥è¯¢æ¡ä»¶æ€»æ˜¯è¿”å›ž trueï¼Œä»¥ä¾¿èŽ·å–æ›´å¤šçš„æ•°æ®ã€‚&lt;br&gt;
When the result is returned to the user&lt;/li&gt;
&lt;/ol&gt;
 &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; email &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; USERS &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;$username&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;AND&lt;/span&gt; password&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;$password&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;To get more data, attacker gives  &lt;code&gt;username&lt;/code&gt;&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27; OR 1=1 #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;1=1&lt;/code&gt;  æ˜¯ä¸€ä¸ªå§‹ç»ˆä¸ºçœŸçš„æ¡ä»¶ã€‚&lt;br&gt;
 &lt;code&gt;#&lt;/code&gt;  (åœ¨ MySQL ä¸­) æˆ–  &lt;code&gt;--&lt;/code&gt;  (åœ¨å…¶ä»– RDBMS ä¸­) è¡¨ç¤ºæ³¨é‡Šç¬¦å·ï¼ŒåŽé¢çš„æ‰€æœ‰å†…å®¹éƒ½è¢«å¿½ç•¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œ &lt;code&gt;AND password=&#39;$password&#39; &lt;/code&gt; å°±è¢«æ³¨é‡ŠæŽ‰äº†ï¼Œä¸ä¼šå½±å“æŸ¥è¯¢çš„ç»“æžœã€‚&lt;br&gt;
å› æ­¤æœ€ç»ˆç»“æžœæ˜¯ï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; email &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; USERS &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;OR&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”±äºŽ  &lt;code&gt;WHERE&lt;/code&gt;  å­å¥æ€»ä¸ºçœŸï¼ŒæŸ¥è¯¢ä¼šè¿”å›ž  &lt;code&gt;USERS&lt;/code&gt;  è¡¨ä¸­æ‰€æœ‰ç”¨æˆ·çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œè€Œä¸ä»…ä»…æ˜¯åŒ¹é…ç‰¹å®šç”¨æˆ·åå’Œå¯†ç çš„è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä»Žå…¶ä»–æ•°æ®åº“çªƒå–æ•°æ® é€šè¿‡è¾“å…¥ &lt;code&gt;username&lt;/code&gt;&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27; AND 1=0 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt; UNION SELECT cardholder, number, exp_month, exp_year FROM &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt; creditcards #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç”±äºŽç¬¬ä¸€éƒ¨åˆ†çš„æ¡ä»¶ä¸æˆç«‹ï¼ŒåŽŸæŸ¥è¯¢ä¸è¿”å›žä»»ä½•ç»“æžœï¼›ä½†  &lt;code&gt;UNION&lt;/code&gt;  æ“ä½œç¬¦ä½¿å¾—æŸ¥è¯¢çš„ç»“æžœå˜æˆä¿¡ç”¨å¡è¡¨ä¸­çš„æ•°æ®ï¼Œä»Žè€Œè¢«æ”»å‡»è€…èŽ·å–ã€‚&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Run Shell Commands&lt;br&gt;
 é€šè¿‡åœ¨æ•°æ®åº“æœåŠ¡å™¨ä¸Š æ‰§è¡Œ shell å‘½ä»¤ï¼Œæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·è´¦æˆ·ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ”»å‡»è€…èƒ½å¤Ÿçªç ´æ•°æ®åº“çš„è¾¹ç•Œï¼Œç›´æŽ¥å¯¹æ“ä½œç³»ç»Ÿè¿›è¡Œä¿®æ”¹ï¼Œä»Žè€Œä½¿æœåŠ¡å™¨æ›´åŠ å®¹æ˜“å—åˆ°è¿›ä¸€æ­¥çš„æ”»å‡»ã€‚&lt;br&gt;
ç”¨æˆ·è¾“å…¥ï¼šæ”»å‡»è€…åœ¨ç”¨æˆ·åå­—æ®µä¸­è¾“å…¥ä»¥ä¸‹å­—ç¬¦ä¸²ï¼š&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;; exec cmdshell &amp;#x27;&lt;/span&gt;net &lt;span class=&#34;keyword&#34;&gt;user&lt;/span&gt; badguy badpwd&lt;span class=&#34;string&#34;&gt;&amp;#x27; /ADD #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;&#39;;&lt;/code&gt; ï¼šç»“æŸäº†å½“å‰çš„ SQL æŸ¥è¯¢è¯­å¥ã€‚&lt;br&gt;
 &lt;code&gt;exec cmdshell &#39;net user badguy badpwd&#39; /ADD&#39;&lt;/code&gt; ï¼šåˆ©ç”¨æ•°æ®åº“æœåŠ¡å™¨çš„  &lt;code&gt;cmdshell&lt;/code&gt;  åŠŸèƒ½æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªåä¸º  &lt;code&gt;badguy&lt;/code&gt; ï¼Œå¯†ç ä¸º  &lt;code&gt;badpwd&lt;/code&gt;  çš„æ–°ç”¨æˆ·è´¦æˆ·ã€‚&lt;br&gt;
 &lt;code&gt;#&lt;/code&gt; ï¼šæ³¨é‡Šç¬¦å·ï¼Œç”¨æ¥å¿½ç•¥åŽç»­çš„ SQL è¯­å¥ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨å…¥åŽçš„ SQL æŸ¥è¯¢å˜æˆäº†ï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; UserTable &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;; &lt;span class=&#34;keyword&#34;&gt;exec&lt;/span&gt; cmdshell &lt;span class=&#34;string&#34;&gt;&amp;#x27;net user badguy badpwd&amp;#x27;&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;ADD&lt;/span&gt; #...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Changeã€Destory Data&lt;br&gt;
Create new users&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;; INSERT INTO USERS (&amp;#x27;&lt;/span&gt;uname&lt;span class=&#34;string&#34;&gt;&amp;#x27;,&amp;#x27;&lt;/span&gt;passwd&lt;span class=&#34;string&#34;&gt;&amp;#x27;) &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt; VALUES (&amp;#x27;&lt;/span&gt;hacker&lt;span class=&#34;string&#34;&gt;&amp;#x27;,&amp;#x27;&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;38&lt;/span&gt;a74f&lt;span class=&#34;string&#34;&gt;&amp;#x27;); # &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Reset email (or password, etc.)&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;; UPDATE USERS SET email=&amp;#x27;&lt;/span&gt;hacker&lt;span class=&#34;variable&#34;&gt;@root&lt;/span&gt;.org&lt;span class=&#34;string&#34;&gt;&amp;#x27;  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt; WHERE email=&amp;#x27;&lt;/span&gt;victim&lt;span class=&#34;variable&#34;&gt;@yahoo&lt;/span&gt;.com&lt;span class=&#34;string&#34;&gt;&amp;#x27;; #&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Second-Order SQL Injections&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight php&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt; = &lt;span class=&#34;title function_ invoke__&#34;&gt;mysql_connect&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;localhost&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;root&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;password&amp;quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;title function_ invoke__&#34;&gt;mysql_select_db&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;Shipping&amp;quot;&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable&#34;&gt;$id&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$HTTP_GET_VARS&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;]; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable&#34;&gt;$qry&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;quot;SELECT ccnum FROM cust WHERE id = &lt;span class=&#34;subst&#34;&gt;$id&lt;/span&gt;&amp;quot;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable&#34;&gt;$result&lt;/span&gt; = &lt;span class=&#34;title function_ invoke__&#34;&gt;mysql_query&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$qry&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable&#34;&gt;$result&lt;/span&gt;) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;title function_ invoke__&#34;&gt;mysql_result&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$result&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;ccnum&amp;quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;No result!&amp;quot;&lt;/span&gt; . &lt;span class=&#34;title function_ invoke__&#34;&gt;mysql_error&lt;/span&gt;(); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;meta&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆå§‹æ³¨å…¥ï¼šæ”»å‡»è€…è®¾æ³•å°†  &lt;code&gt;uname&lt;/code&gt;  å­—æ®µè®¾ç½®ä¸ºï¼š &lt;code&gt;admin&#39; #&lt;/code&gt; ã€‚&lt;br&gt;
åœ¨å¦ä¸€ä¸ªæ´»åŠ¨ä¸­ï¼Œä¾‹å¦‚å¯†ç æ›´æ–°æ“ä½œï¼Œä»£ç å¯èƒ½ä¼šä½¿ç”¨ä¹‹å‰å­˜å‚¨çš„  &lt;code&gt;uname&lt;/code&gt;  å€¼ã€‚å› ä¸º  &lt;code&gt;uname&lt;/code&gt;  åŒ…å«æ³¨é‡Šç¬¦å·ï¼Œå®žé™…æ‰§è¡Œçš„ SQL è¯­å¥å°†å˜æˆï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight sql&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Example&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;UPDATE&lt;/span&gt; USERS &lt;span class=&#34;keyword&#34;&gt;SET&lt;/span&gt; passwd&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;cracked&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; uname&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;admin&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Persistent storage (such as a table row) is deemed as a &lt;strong&gt;trusted source&lt;/strong&gt; thus may not be sanitised&lt;br&gt;
Attacks may be subsequently executed by &lt;strong&gt;multiple&lt;/strong&gt; activities&lt;/p&gt;
&lt;h1 id=&#34;Preventing SQL Injection&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#Preventing SQL Injection&#34;&gt;#&lt;/a&gt;Preventing SQL Injection&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Finding SQL Injection Vulnerabilities&lt;br&gt;
Any application that has the following pattern is at risk of SQL injection
&lt;ol&gt;
&lt;li&gt;Take user input&lt;/li&gt;
&lt;li&gt;Do not check validity of user input&lt;/li&gt;
&lt;li&gt;Use user input data to query a database&lt;/li&gt;
&lt;li&gt;Use string manipulation to build the SQL query or the SQL exec command&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Manual Techniques&lt;br&gt;
Try entering junk SQL commands into input fields you suspect may not be validated
&lt;ul&gt;
&lt;li&gt;Use as username:  &lt;code&gt;abc&#39; JFKDJ #&lt;/code&gt; &lt;br&gt;
Look for errors or unexpected behaviour&lt;/li&gt;
&lt;li&gt;Some web applications running in debug mode will show you the whole SQL statement to â€œhelp you debugâ€, but this also helps attackers attack&lt;/li&gt;
&lt;li&gt;å¸¸è§çš„æ‰‹åŠ¨æµ‹è¯•å­—ç¬¦ä¸²ï¼š&lt;br&gt;
 &lt;code&gt;&#39; OR 1=1 --&lt;/code&gt; ï¼šç»•è¿‡èº«ä»½éªŒè¯ã€‚&lt;br&gt;
 &lt;code&gt;&#39; UNION SELECT NULL, NULL, NULL --&lt;/code&gt; ï¼šå°è¯•è®¿é—®å…¶ä»–è¡¨ä¸­çš„æ•°æ®ã€‚&lt;br&gt;
 &lt;code&gt;&#39; AND (SELECT COUNT(*) FROM users) &amp;gt; 0 --&lt;/code&gt; ï¼šæ£€æµ‹æŸ¥è¯¢é€»è¾‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Automated Techniques
&lt;ol&gt;
&lt;li&gt;Sqlmap (&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3NxbG1hcC5vcmc=&#34;&gt;sqlmap.org&lt;/span&gt;) profiles the database on a given URL&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Identify vulnerable parameters&lt;/li&gt;
&lt;li&gt;Identify which types of attacks work&lt;/li&gt;
&lt;li&gt;Take over the database&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;SQL Inject Me was a Firefox add-on&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Try standard SQL injection techniques for a variety of database languages&lt;/li&gt;
&lt;li&gt;In every form on a page&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Preventing SQL Injection
&lt;ol&gt;
&lt;li&gt;Input validation&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Filter any character with special meanings (apostrophes, semicolons, percent symbols, hyphens, etc.)&lt;/li&gt;
&lt;li&gt;Check the data type (e.g. make sure itâ€™s an integer)&lt;/li&gt;
&lt;li&gt;Blacklisting â€œbadâ€ characters doesnâ€™t always work
&lt;ol&gt;
&lt;li&gt;Could prevent valid input (e.g. last name Oâ€™Brien)&lt;/li&gt;
&lt;li&gt;Forget to filter out some characters&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Escaping quotes&lt;br&gt;
Use escape characters to prevent the quote from becoming part of the query. Example: convert  &lt;code&gt;&#39; &lt;/code&gt;  into  &lt;code&gt; \&#39;&lt;/code&gt; . Different databases have different rules for escaping&lt;/li&gt;
&lt;li&gt;Whitelisting&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Allow only well-defined set of safe values&lt;/li&gt;
&lt;li&gt;Set implicitly defined through regular expressions æ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Best Solution: Prepared Statements( Separating code and data)&lt;br&gt;
In most injection attacks, data is interpreted as control: this changes the semantics of a query or a command&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Typed bind variables:  &lt;code&gt;? &lt;/code&gt; placeholders guaranteed to be data (not control)&lt;/li&gt;
&lt;li&gt;Prepared statements are &lt;strong&gt;pre-compiled&lt;/strong&gt; by the database management system waiting for input&lt;/li&gt;
&lt;li&gt;Placeholders prevent that the users input gets attached to the SQL query resulting in a separation of code and data&lt;/li&gt;
&lt;li&gt;For example, the database registers  &lt;code&gt;&#39;Robert&#39; ); DROP TABLE Students;--&#39;&lt;/code&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Prepared Statement: Java&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;type&#34;&gt;PreparedStatement&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; db.prepareStatement(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;string&#34;&gt;&amp;quot;SELECT pizza, toppings, quantity, &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;  order_day FROM orders WHERE userid=? &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;  AND order_month=?&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; ps.setInt(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, session.getCurrentUserId());&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; ps.setInt(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;, Integer.parseInt(request.getParameter(&lt;span class=&#34;string&#34;&gt;&amp;quot;month&amp;quot;&lt;/span&gt;)));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;type&#34;&gt;ResultSet&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; ps.executeQuery();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨é¢„å¤„ç†è¯­å¥ (PreparedStatement)&lt;br&gt;
 &lt;code&gt;PreparedStatement&lt;/code&gt;  æ˜¯ Java ä¸­ç”¨äºŽæ‰§è¡Œé¢„ç¼–è¯‘çš„ SQL è¯­å¥çš„å¯¹è±¡ï¼Œå®ƒç¡®ä¿ SQL æŸ¥è¯¢ç»“æž„å’Œè¾“å…¥æ•°æ®çš„åˆ†ç¦»ã€‚åœ¨æ­¤ä»£ç ä¸­ï¼Œä½¿ç”¨  &lt;code&gt;?&lt;/code&gt;  å ä½ç¬¦æ¥æ ‡è®°ç”¨æˆ·è¾“å…¥çš„ä½ç½®ï¼Œç¡®ä¿è¾“å…¥çš„æ•°æ®ä¸è¢«è§£é‡Šä¸º SQL æŽ§åˆ¶é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;ç»‘å®šå˜é‡&lt;br&gt;
é€šè¿‡  &lt;code&gt;ps.setInt(1, ...)&lt;/code&gt;  å’Œ  &lt;code&gt;ps.setInt(2, ...)&lt;/code&gt;  æ–¹æ³•ï¼Œå°† &lt;code&gt;ç”¨æˆ· ID&lt;/code&gt;  å’Œ &lt;code&gt;æœˆä»½&lt;/code&gt; å‚æ•°ç»‘å®šåˆ°ç›¸åº”çš„å ä½ç¬¦ä¸Šã€‚&lt;br&gt;
ç»‘å®šçš„å˜é‡å…·æœ‰æ˜Žç¡®çš„ç±»åž‹ï¼ˆå¦‚ intã€String ç­‰ï¼‰ï¼Œè¿™ç¡®ä¿äº†è¾“å…¥æ•°æ®ä¸ä¼šæ”¹å˜ SQL æŸ¥è¯¢çš„é€»è¾‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
 &lt;figure class=&#34;highlight csharp&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Prepared Statement: ASP.NET&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;SqlCommand cmd = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; SqlCommand(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;string&#34;&gt;&amp;quot;SELECT * FROM UserTable &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;   WHERE username = @User AND password = @Pwd&amp;quot;&lt;/span&gt;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   dbConnection&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; cmd.Parameters.Add(&lt;span class=&#34;string&#34;&gt;&amp;quot;@User&amp;quot;&lt;/span&gt;, Request[&lt;span class=&#34;string&#34;&gt;&amp;quot;user&amp;quot;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; cmd.Parameters.Add(&lt;span class=&#34;string&#34;&gt;&amp;quot;@Pwd&amp;quot;&lt;/span&gt;, Request[&lt;span class=&#34;string&#34;&gt;&amp;quot;pwd&amp;quot;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; cmd.ExecuteReader();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢è¯­å¥ä¸­çš„  &lt;code&gt;@User&lt;/code&gt;  å’Œ  &lt;code&gt;@Pwd&lt;/code&gt;  æ˜¯å‚æ•°å ä½ç¬¦ï¼Œç”¨äºŽæ ‡è®°ç”¨æˆ·è¾“å…¥çš„ä½ç½®ã€‚&lt;figure class=&#34;highlight php&#34;&gt;&lt;figcaption&gt;&lt;span&gt;Prepared Statement: PHP&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt; = &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_connect&lt;/span&gt;(&lt;span class=&#34;title function_ invoke__&#34;&gt;getServer&lt;/span&gt;(), &lt;span class=&#34;title function_ invoke__&#34;&gt;getUid&lt;/span&gt;(), &lt;span class=&#34;title function_ invoke__&#34;&gt;getPwd&lt;/span&gt;()); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;variable&#34;&gt;$stmt&lt;/span&gt; = &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_prepare&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;SELECT ccnum FROM cust WHERE id = ?&amp;quot;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;variable&#34;&gt;$id&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$HTTP_GET_VARS&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;]; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;comment&#34;&gt;// ä»…å…è®¸æœ‰æ•ˆçš„IDï¼ˆ1-8ä½æ•°å­—ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;title function_ invoke__&#34;&gt;preg_match&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/^\d&amp;#123;1,8&amp;#125;$/&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$id&lt;/span&gt;)) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;     &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_stmt_bind_param&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$stmt&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;s&amp;quot;&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$id&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;     &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_stmt_execute&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$stmt&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_stmt_bind_result&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$stmt&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$result&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli_stmt_fetch&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$stmt&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; ...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;meta&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;SQL æŸ¥è¯¢ä¸­ä½¿ç”¨  &lt;code&gt;?&lt;/code&gt;  ä½œä¸ºå ä½ç¬¦ï¼Œè¡¨ç¤ºå‚æ•°çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼  &lt;code&gt;preg_match(&#39;/^\d&amp;#123;1,8&amp;#125;$/&#39;, $id)&lt;/code&gt;  æ¥éªŒè¯ç”¨æˆ·è¾“å…¥ã€‚è¿™ç¡®ä¿äº†è¾“å…¥æ˜¯ 1 åˆ° 8 ä½çš„æ•°å­—ï¼Œè¿‡æ»¤æŽ‰äº†æ½œåœ¨çš„æ¶æ„è¾“å…¥&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨  &lt;code&gt;mysqli_stmt_bind_param($stmt, &amp;quot;s&amp;quot;, $id)&lt;/code&gt;  æ–¹æ³•å°†ç”¨æˆ·è¾“å…¥çš„ ID ä½œä¸ºå‚æ•°ç»‘å®šåˆ°é¢„å¤„ç†è¯­å¥ä¸­ã€‚å‚æ•°ç±»åž‹  &lt;code&gt;s&lt;/code&gt;  æŒ‡å®šç»‘å®šçš„å˜é‡æ˜¯å­—ç¬¦ä¸²ç±»åž‹ï¼ˆstringï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Fixing SQL Injections&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Validate all input&lt;/li&gt;
&lt;li&gt;Never use string concatenation to build SQL statements&lt;/li&gt;
&lt;li&gt;Use parameterised stored procedures or other functions for database access&lt;/li&gt;
&lt;li&gt;Use least privileged accounts to connect to the database&lt;/li&gt;
&lt;li&gt;Remove access to all user defined tables and grant access only to stored procedures&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
    </channel>
</rss>
