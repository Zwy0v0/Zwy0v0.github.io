<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title> â€¢ Posts by &#34;osi&#34; tag</title>
        <link>http://example.com</link>
        <description>ðŸŒ¸</description>
        <language>zh-CN</language>
        <pubDate>Wed, 30 Oct 2024 21:17:47 +1000</pubDate>
        <lastBuildDate>Wed, 30 Oct 2024 21:17:47 +1000</lastBuildDate>
        <category>C language</category>
        <category>Linux</category>
        <category>software security</category>
        <category>C</category>
        <category>AFL</category>
        <category>vulnerability</category>
        <category>HTTP</category>
        <category>XSS</category>
        <category>CSRF</category>
        <category>SQL</category>
        <category>OSI</category>
        <category>gdb</category>
        <category>JavaScript</category>
        <category>Blog</category>
        <category>æ—¥å¸¸</category>
        <item>
            <guid isPermalink="true">http://example.com/course/Web-Application-Security/</guid>
            <title>Web Application Security</title>
            <link>http://example.com/course/Web-Application-Security/</link>
            <category>software security</category>
            <category>HTTP</category>
            <category>OSI</category>
            <pubDate>Wed, 30 Oct 2024 21:17:47 +1000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;Overall&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#Overall&#34;&gt;#&lt;/a&gt;Overall&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Web Application Stack&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/672216036891d.png&#34; alt=&#34;img&#34;&gt;&lt;/li&gt;
&lt;li&gt;OSI Network Protocol Stack&lt;br&gt;
More in Network System&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/6722160374233.png&#34; alt=&#34;img&#34;&gt;&lt;/li&gt;
&lt;li&gt;Web Applications&lt;br&gt;
Security problem is usually to do with dynamic creation of web contents&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/672216b529859.png&#34; alt=&#34;img&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;HTTP&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#HTTP&#34;&gt;#&lt;/a&gt;HTTP&lt;/h1&gt;
&lt;h2 id=&#34;HTTP&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#HTTP&#34;&gt;#&lt;/a&gt;HTTP&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;HyperText Transport Protocol (HTTP)&lt;br&gt;
HTTP is a request/response protocol for communicating between web clients and web servers.&lt;br&gt;
A web client sends a request to a particular web server for a particular resource (identified by a URL) and the web server responds with some kind of data (often HTML data)&lt;/li&gt;
&lt;li&gt;HTTP Request Messag&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Send TCP/IP message to &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy5leGFtcGxlLmNvbQ==&#34;&gt;www.example.com&lt;/span&gt; on port 80 containing the following:&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/672217d602618.png&#34; alt=&#34;img&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;HTTP Request Methods&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;Retrieve information&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;Request some operation be performed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PUT&lt;/td&gt;
&lt;td&gt;Provide new information&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DELETE&lt;/td&gt;
&lt;td&gt;Request something be removed from server&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HEAD&lt;/td&gt;
&lt;td&gt;Same as GET except that only header info is returned&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OPTIONS&lt;/td&gt;
&lt;td&gt;Request information about communication options available&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TRACE&lt;/td&gt;
&lt;td&gt;Used for testing and diagnosing problems&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CONNECT&lt;/td&gt;
&lt;td&gt;Used for tunnelling using proxies&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;HTTP Response Message&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/672217d60533f.png&#34; alt=&#34;img&#34;&gt;&lt;/li&gt;
&lt;li&gt;HTTP is a Stateless Protocol&lt;br&gt;
HTTP is said to be a stateless protocol because each request is handled independently&lt;br&gt;
Assumes no memory of requests that came before current request&lt;br&gt;
If a web server receives a number of HTTP requests from the same client, they are each handled by the server in exactly the same way as they would, had they been sent from different clients.&lt;/li&gt;
&lt;li&gt;HTML Forms: the GET Method&lt;br&gt;
The GET method sends encoded data appended to the URL string&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;The data is separated from the URL by a â€˜?â€™&lt;/li&gt;
&lt;li&gt;The encoded data and any path information are placed in the CGI environment variables  &lt;code&gt;QUERY_STRING&lt;/code&gt;  and  &lt;code&gt;PATH_INFO&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;HTML Forms: the Post Method&lt;br&gt;
The POST method sends encoded data in the body section of the request&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Data in the body is encoded in the same way as in the GET method&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Feature&lt;/th&gt;
&lt;th&gt;GET&lt;/th&gt;
&lt;th&gt;POST&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ç”¨é€”&lt;/td&gt;
&lt;td&gt;é€šå¸¸ç”¨äºŽä¿¡æ¯æ£€ç´¢ï¼Œä¸ä¼šæ”¹å˜æœåŠ¡å™¨çŠ¶æ€&lt;/td&gt;
&lt;td&gt;æäº¤æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¯èƒ½æ›´æ–°æœåŠ¡å™¨æˆ–æ•°æ®åº“çŠ¶æ€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯è§æ€§&lt;/td&gt;
&lt;td&gt;å‚æ•°åœ¨ URL ä¸­å¯è§ï¼Œæ˜“äºŽè°ƒè¯•&lt;/td&gt;
&lt;td&gt;å‚æ•°éšè—åœ¨è¯·æ±‚ä¸»ä½“ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å®‰å…¨æ€§&lt;/td&gt;
&lt;td&gt;ä¸é€‚åˆæäº¤å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯&lt;/td&gt;
&lt;td&gt;ä¸æä¾›å®‰å…¨çš„éšç§ä¿æŠ¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é•¿åº¦é™åˆ¶&lt;/td&gt;
&lt;td&gt;å— URL æœ€å¤§å­—ç¬¦é•¿åº¦é™åˆ¶&lt;/td&gt;
&lt;td&gt;å—æœåŠ¡å™¨å¯æŽ¥å—çš„æ•°æ®é‡é™åˆ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç¼“å­˜æ€§&lt;/td&gt;
&lt;td&gt;å¯ä»¥è¢«ç¼“å­˜&lt;/td&gt;
&lt;td&gt;å¿…é¡»é‡æ–°ä¼ è¾“æ•°æ®ï¼Œä¸”ä¸ä¼šè‡ªåŠ¨ç¼“å­˜&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;HTTP Sessions&#34; class=&#34;active&#34;&gt;&lt;a class=&#34;anchor&#34;  href=&#34;#HTTP Sessions&#34;&gt;#&lt;/a&gt;HTTP Sessions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;HTTP Sessions&lt;br&gt;
A sequence of requests and responses from one browser to one (or more) sites&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Session can be long or short
&lt;ul&gt;
&lt;li&gt;Google advertising tracking: 1+ years&lt;/li&gt;
&lt;li&gt;Google Mail login: 2 weeks&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Authorise user once, and all subsequent requests are tied to user
&lt;ul&gt;
&lt;li&gt;Without session management, users would have to constantly reauthenticate&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Web application environments (ASP, PHP, etc.) provide session tokens&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Session Tokens&lt;br&gt;
Identifying the specific session instance&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/67221c58289ab.png&#34; alt=&#34;img&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Session Tokens in URLs&lt;br&gt;
The session token is part of the URL and will be sent to the web server through HTTP GET requests&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;E.g. &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy5leGFtcGxlLmNvbS9idXkuYXNwP2FydGljbGU9Mjc3ODE7c2Vzc2lvbmlkPUlFNTU3OTkwMTU3OA==&#34;&gt;http://www.example.com/buy.asp?article=27781;sessionid=IE5579901578&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;This mechanism works even in case of client security restrictions (e.g., no cookies are allowed)&lt;br&gt;
Problems:&lt;/li&gt;
&lt;li&gt;All information contained in the URL might be stored in firewall or proxy log files
&lt;ul&gt;
&lt;li&gt;Could simply be printed out with the web page on a shared printer&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The URL, including sensitive data, can be sent in the HTTP referrer field to other web servers&lt;/li&gt;
&lt;li&gt;Imply a high risk of sensitive session data being disclosed to unauthorised third parties&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;HTML Forms with Hidden Fields&lt;br&gt;
Session token and information can be included in hidden fields in a form&lt;br&gt;
Works even in case of user client security restrictions, e.g., no cookies or JavaScript&lt;br&gt;
Does not provide protection mechanisms such as session expiration&lt;br&gt;
Cannot last beyond a single interactive session&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight html&#34;&gt;&lt;figcaption&gt;&lt;span&gt;OvO&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;FORM&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;METHOD&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;POST&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;ACTION&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;/cgi-bin/order_goods.pl&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;INPUT&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;TYPE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;NAME&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;customerid&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;VALUE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;0815&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;INPUT&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;TYPE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;NAME&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;valid_order&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;VALUE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;yes&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;INPUT&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;TYPE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;NAME&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;productid&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;VALUE&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;4711&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;FORM&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;3. HTTP Cookies
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Can be set either using HTTP headers or JavaScript&lt;br&gt;
An extra response header is added as follows to save information to the client&lt;/p&gt;
&lt;figure class=&#34;highlight http&#34;&gt;&lt;figcaption&gt;&lt;span&gt;OvO&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attribute&#34;&gt;Set-Cookie&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;: &lt;/span&gt;id=321328765; domain=.qut.edu.au; path=/cgi-bin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;When a user sends an HTTP request for a URL for which the client machine&lt;br&gt;
holds a cookie, an extra HTTP header is added to the client request every time&lt;/p&gt;
&lt;figure class=&#34;highlight http&#34;&gt;&lt;figcaption&gt;&lt;span&gt;OvO&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Cookie:id=321328765&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Other attributes: Expires, Domain, HttpOnly, Path, Port, Secure&lt;br&gt;
&lt;img data-src=&#34;https://img.picui.cn/free/2024/10/30/672221a731746.png&#34; alt=&#34;img&#34;&gt;&lt;br&gt;
3.  Session tokens Risk&lt;br&gt;
1. Predictable Tokens&lt;br&gt;
- Counter (Verizon Wireless)&lt;br&gt;
- Weak MAC (WSJ)&lt;br&gt;
- token = {userid,  MAC_k(userid) }&lt;br&gt;
- Apache Tomcat&lt;br&gt;
-  &lt;code&gt;generateSessionID()&lt;/code&gt;  uses MD5 but with a weak pseudorandom number generator &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS9lbi11cy9yZXNlYXJjaC93cC1jb250ZW50L3VwbG9hZHMvMjAxNi8wMi9nbTA1LnBkZg==&#34;&gt;CT-RSA 2005&lt;/span&gt;&lt;br&gt;
- PHP&lt;br&gt;
-  &lt;code&gt;create_session_id&lt;/code&gt;  uses weak pseudorandom number generator &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zZWNsaXN0cy5vcmcvZnVsbGRpc2Nsb3N1cmUvMjAxMC9NYXIvNTE5&#34;&gt;seclists.org&lt;/span&gt;&lt;br&gt;
2. Cookie Theft&lt;br&gt;
 ä¸€äº›ç½‘ç«™ä»…åŠ å¯†ç™»å½•è¿‡ç¨‹ï¼Œè€Œä¸åŠ å¯†ä¼šè¯ Cookieï¼Œä»Žè€Œå¯¼è‡´ä¼šè¯ä»¤ç‰Œå®¹æ˜“è¢«æˆªèŽ·&lt;br&gt;
 Example 1: login over HTTPS, but subsequently use HTTP&lt;br&gt;
- åœ¨ä¸å®‰å…¨çš„ç½‘ç»œçŽ¯å¢ƒï¼ˆå¦‚æ— çº¿å’–å•¡é¦†ï¼‰ä¸­ï¼ŒCookie å¯èƒ½è¢«çªƒå–ã€‚&lt;br&gt;
- Other reasons why session token sent in the clear&lt;br&gt;
- HTTPS/HTTP mixed content pages at site&lt;br&gt;
- Man-in-the-middle attacks on SSL&lt;br&gt;
- &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9jb2RlYnV0bGVyLmNvbS8yMDEwLzEwLzI0L2ZpcmVzaGVlcC8=&#34;&gt;Firesheep&lt;/span&gt; Firefox extension performs this attack&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Example 2: Cross-Site Scripting (XSS) attacks
&lt;/code&gt;&lt;/pre&gt;
 ]]></description>
        </item>
    </channel>
</rss>
