{
    "version": "https://jsonfeed.org/version/1",
    "title": "null • All posts by \"icmp\" tag",
    "description": "🌸",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/course/Network-Security-Analysis/",
            "url": "http://example.com/course/Network-Security-Analysis/",
            "title": "Network Security Analysis",
            "date_published": "2024-11-04T12:02:06.000Z",
            "content_html": "<h1 id=\"Layer 3: Network\" class=\"active\"><a class=\"anchor\"  href=\"#Layer 3: Network\">#</a>Layer 3: Network</h1>\n<h2 id=\"IP\" class=\"active\"><a class=\"anchor\"  href=\"#IP\">#</a>IP</h2>\n<ol>\n<li>IP Protocol Features</li>\n</ol>\n<ul>\n<li>Best-effort delivery\n<ul>\n<li>IP routes and sends a packet to the destination. IP provides no guaranteed delivery of packets</li>\n<li>Packet loss is left to the higher layer protocols</li>\n<li>The network has variable delays, it is not guaranteed that the packets will be received in sequence.</li>\n</ul>\n</li>\n<li>Connection-less service\n<ul>\n<li>Each packet is individually addressed and routed, rather than in the setup a prearranged connection channel for data transmission</li>\n<li>It is possible that two packets from the same source take different paths to reach the destination.</li>\n</ul>\n</li>\n<li>Routing\n<ul>\n<li>Packets go through a series of routers before they reach the destination.</li>\n<li>At each node that the packet passes through, the node determines the next hop for the packet and routes it to the next hop.</li>\n</ul>\n</li>\n<li>Quality of Service (QoS) control\n<ul>\n<li>QoS optimizes the network by setting packet priorities (classification marking)</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>IP Fragmentation\n<ol>\n<li>What is IP fragmentation?</li>\n</ol>\n<ul>\n<li>Fragmentation is necessary for data transmission, as every network has its maximum transmission unit (MTU), the largest number of bytes an individual packet can have on a particular network</li>\n<li>If a packet larger than the network’s MTU is being sent, it must be fragmented before transmission.</li>\n</ul>\n<ol start=\"2\">\n<li>Who assembles the fragmented packets?</li>\n</ol>\n<ul>\n<li>When the destination host receives IP fragments, it allocates memory in preparation for fragment reassembly.</li>\n</ul>\n</li>\n<li>IP Spoofing/DoS</li>\n</ol>\n<ul>\n<li>An attacker can send packets/datagrams from a false source address to disguise itself.</li>\n<li>Denial-of-service (DoS) attacks often use IP spoofing to overload networks and devices with packets that appear to be from legitimate source IP addresses.</li>\n</ul>\n<ol start=\"3\">\n<li>Issues with IPv4 Fragmentation<br>\nFragmentation causes increase overhead in CPU and memory and slow down network performance.</li>\n</ol>\n<ul>\n<li>Intermediate router\n<ul>\n<li>Creates fragment headers</li>\n<li>Computes checksums</li>\n<li>Copies the original packet into the fragments</li>\n</ul>\n</li>\n<li>Receiving host\n<ul>\n<li>When reassembling the fragments the receiver must allocate memory for the arriving fragments and joint together fragments into one packet after all of the fragments are received</li>\n<li>If one fragment is dropped, the entire original packet must be resent.\n<ul>\n<li>The TTL time exceeded ICMP message (with Fragment reassembly timeout) is sent to the sender.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ARP\" class=\"active\"><a class=\"anchor\"  href=\"#ARP\">#</a>ARP</h2>\n<ol>\n<li>ARP</li>\n</ol>\n<ul>\n<li>IP addresses are used for identifying destination devices across the Internet.</li>\n<li>MAC addresses are used for direct delivery within the same network.</li>\n<li>ARP is used to resolve a logical (IP) address of a target host to its physical (MAC) address in a local area network.</li>\n</ul>\n<ol start=\"2\">\n<li>\n<p>ARP in Direct Delivery</p>\n<ol>\n<li>The sender A and receiver B are located at the same network.</li>\n</ol>\n<ul>\n<li>A requests for B’s MAC address.</li>\n<li>Once B’s MAC address is resolved, then the data can be delivered from A to B.<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/7638f7e29bc26dab.png\" alt=\"image\"></li>\n</ul>\n<ol start=\"2\">\n<li>The sender A and receiver B are not located at the same network.</li>\n</ol>\n<ul>\n<li>A requests for gateway’s MAC address. Once G’s MAC address is resolved, then A sends the data to G for data forwarding</li>\n<li>G requests B’s MAC address. Once B’s MAC address is resolved, then G forwards the data to B</li>\n<li>Two ARP processes involved<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/a066a6ee19686120.png\" alt=\"image\"></li>\n</ul>\n<ol start=\"3\">\n<li>More ARP processes</li>\n</ol>\n<ul>\n<li>A - G1     G1 - G2      G2 - G3      G3 - B<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/94a4b433ddf61059.png\" alt=\"image\"></li>\n</ul>\n</li>\n<li>\n<p>ARP Process- Request</p>\n</li>\n</ol>\n<ul>\n<li>ARP is a two-step process: a request and a reply.</li>\n<li>Within a network, when a host (requester) – A, begins a conversation with a target host - B\n<ul>\n<li>A is aware of B’s IP address, but does not have the B’s MAC address. Thus A is unable to send a unicast frame to B.</li>\n<li>A sends an ARP broadcast frame to request B’s MAC address. Since it is a broadcast, all hosts on the network receives the ARP request.</li>\n<li>All hosts scan the content of the ARP request to determine if they are the intended target. The hosts which are not the intended target discard the broadcast frame.</li>\n</ul>\n</li>\n</ul>\n<ol start=\"4\">\n<li>ARP Process - Reply</li>\n</ol>\n<ul>\n<li>B is the target of the ARP Request. It sends an ARP Reply back to A.</li>\n<li>Since B knows who sent the initial ARP Request, it is able to send the ARP Response unicast, directly back to A</li>\n</ul>\n<ol start=\"5\">\n<li>ARP Poisoning</li>\n</ol>\n<ul>\n<li>ARP Poisoning is also known as ARP Spoofing.</li>\n<li>A type of attack carried out over a local area network (LAN).</li>\n<li>It involves sending malicious ARP packets on a LAN to change the mapping of the attacker’s<br>\nMAC address with the IP address of another host</li>\n<li>攻击过程\n<ul>\n<li>攻击者在局域网中发送伪造的 ARP 数据包，将目标 IP 地址映射到攻击者的 MAC 地址。</li>\n<li>这样，局域网中的其他主机在访问该 IP 地址时，流量会被引导到攻击者的设备上。</li>\n</ul>\n</li>\n<li>攻击目的\n<ol>\n<li>中间人攻击（Man-in-the-Middle, MITM）：</li>\n</ol>\n<ul>\n<li>攻击者可以截获、篡改或记录在受害者和目标主机之间传递的数据。</li>\n</ul>\n<ol start=\"2\">\n<li>拒绝服务攻击（DoS）：</li>\n</ol>\n<ul>\n<li>攻击者可以通过阻止合法主机的流量访问目标主机，实现拒绝服务。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/1e55b1b5b0938dda.png\" alt=\"image\"></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ICMP\" class=\"active\"><a class=\"anchor\"  href=\"#ICMP\">#</a>ICMP</h2>\n<ol>\n<li>ICMP Features</li>\n</ol>\n<ul>\n<li>\n<p>ICMP is a supporting protocol to support IP.</p>\n</li>\n<li>\n<p>ICMP messages are encapsulated inside of IP datagrams before going down to the data link layer<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/bd2c3965e1886840.png\" alt=\"image\"></p>\n</li>\n<li>\n<p>Assists the diagnosis of some network problems, particularly related to the network layer of the OSI model</p>\n</li>\n<li>\n<p>Assists in obtaining specific information from routers and the destination host</p>\n</li>\n<li>\n<p>Is used by routers and hosts</p>\n</li>\n<li>\n<p>Returns the message to the originator</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Types of ICMP</li>\n</ol>\n<ul>\n<li>ICMP messages can be broadly classified into 2 types:\n<ul>\n<li>Error reporting</li>\n<li>Query/Reply</li>\n</ul>\n</li>\n</ul>\n<ol start=\"3\">\n<li>Time-Exceeded(Error reporting)</li>\n</ol>\n<ul>\n<li>The ICMP Time Exceeded message is issued:\n<ul>\n<li>When a packet is sent, its TTL is decremented by 1 at each hop. If the TTL reaches 0, the packet is dropped and a Time-Exceeded message is sent to the originator.</li>\n<li>If destination does not receive all fragments in a set time, it drops any received fragments and sends a Time-Exceeded message to the originator</li>\n</ul>\n</li>\n</ul>\n<ol start=\"4\">\n<li>ICMP 重定向（ICMP Redirect）</li>\n</ol>\n<ul>\n<li>场景设置\n<ul>\n<li>发送主机 A：IP 地址为 10.0.0.100/24。</li>\n<li>默认路由：A 的路由表中有一个默认路由条目，指向路由器 G1 的 IP 地址 10.0.0.1/24 作为默认网关。</li>\n<li>路由器 G1：当需要转发到目标网络 X 时，G1 使用路由器 G2 的 IP 地址 10.0.0.2/24 作为下一跳。</li>\n</ul>\n</li>\n<li>ICMP 重定向过程\n<ul>\n<li>包到达路由器 G1：G1 收到来自主机 A（10.0.0.100）发送的一个数据包，目标是网络 X。</li>\n<li>路由表检查：G1 检查其路由表，发现下一跳是 G2（IP 地址 10.0.0.2），可以到达目标网络 X。</li>\n<li>ICMP 重定向消息：如果 G2 和发送主机 A（10.0.0.100）在同一个网络（10.0.0.0/24），G1 会向发送主机 A 发送一个 ICMP 重定向消息，建议 A 将去往网络 X 的流量直接发送到 G2，这样可以减少一个跳数，使流量更直接地到达目标网络。</li>\n<li>数据包转发：在发送重定向消息的同时，G1 仍会将接收到的数据包转发到 G2，确保当前数据包的传输不中断。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/bbbcd5f2b66d5d73.png\" alt=\"image\"></li>\n</ul>\n</li>\n</ul>\n<ol start=\"5\">\n<li>Echo Request/Reply</li>\n</ol>\n<ul>\n<li>A host or router that receives an echo-request message creates an echo-reply message and returns it to the originator</li>\n<li>echo-request and echo-reply messages can be used to help diagnose some network problems\n<ul>\n<li>e.g. communication status between two devices</li>\n</ul>\n</li>\n<li>Testing destination availability and providing status is achieved by invoking a ping command\n<ul>\n<li>Creates a series of echo-request and echo-reply messages providing statistical information</li>\n</ul>\n</li>\n</ul>\n<ol start=\"6\">\n<li>Ping（ICMP）泛洪 DDoS 攻击</li>\n</ol>\n<ul>\n<li>ICMP 操作的类型：熟悉 ICMP 的各种操作类型（例如 Echo 请求 / 回复）有助于识别网络通信中的正常行为和异常行为。</li>\n<li>正常的 ICMP 交互：了解 ICMP 在发起端与目标主机之间的正常交互方式，例如 ping 操作，能帮助区分合法通信和潜在的恶意流量。</li>\n<li>异常网络行为识别：当 ICMP 流量异常时（例如，持续的 ping 请求），可能意味着存在攻击行为，如 DDoS 攻击。</li>\n<li>Ping（ICMP）泛洪 DDoS 攻击<br>\n Ping 泛洪是一种典型的 DDoS（分布式拒绝服务）攻击，攻击者通过发送大量 ICMP Echo 请求，使目标主机过载，耗尽其资源，导致网络性能下降甚至服务中断。这种攻击利用了 ICMP 的易用性和资源开销低的特性，通过大量的无用流量使目标服务器无法响应正常请求。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/7150028ff5a5d75b.png\" alt=\"image\"></li>\n</ul>\n<h1 id=\"Layer 4: Transport\" class=\"active\"><a class=\"anchor\"  href=\"#Layer 4: Transport\">#</a>Layer 4: Transport</h1>\n<h2 id=\"TCP\" class=\"active\"><a class=\"anchor\"  href=\"#TCP\">#</a>TCP</h2>\nTCP详细特征在 Layer-4-Transport-Protocols\n<p>对 TCP 的威胁：</p>\n<ol>\n<li>TCP 序列号预测：</li>\n</ol>\n<ul>\n<li>攻击者可能能够猜测 TCP 分配给数据包流的序列号。</li>\n<li>如果攻击者成功预测了正在进行的通信会话的序列号，可以进行<strong>注入</strong>攻击，将篡改或伪造的数据插入数据流中，从而影响数据的完整性。</li>\n</ul>\n<ol start=\"2\">\n<li>SYN Flooding DoS 攻击：</li>\n</ol>\n<ul>\n<li>SYN 泛洪是一种拒绝服务（DoS）攻击，通过向服务器发送大量伪造的 TCP SYN 请求，占用服务器的资源。</li>\n<li>在 SYN Flooding 攻击中，攻击者连续发送 SYN 请求，服务器响应 SYN-ACK，但攻击者不回复 ACK 确认，导致连接未完成并占用资源。</li>\n<li>这种攻击会使服务器资源耗尽，导致其无法响应合法用户的请求<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/66fe7ac2f80b1dd1.png\" alt=\"image\"></li>\n</ul>\n<h1 id=\"Layer 7: Application\" class=\"active\"><a class=\"anchor\"  href=\"#Layer 7: Application\">#</a>Layer 7: Application</h1>\n<h2 id=\"DHCP\" class=\"active\"><a class=\"anchor\"  href=\"#DHCP\">#</a>DHCP</h2>\n<ol>\n<li>DHCP Message Format<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/d8ed49e7d0fc10b8.png\" alt=\"image\"></li>\n<li>Threats to\n<ol>\n<li>DHCP - DHCP 欺骗（DHCP Spoofing）</li>\n</ol>\n<ul>\n<li>DHCP 欺骗是一种网络攻击，攻击者通过在网络中插入一个伪造的 DHCP 服务器来控制或截获网络流量。以下是攻击过程：\n<ol>\n<li>伪造的 DHCP 服务器：攻击者在网络中设置一个伪造的 DHCP 服务器，伪装成合法的 DHCP 服务器。</li>\n<li>响应 DHCP 请求：当客户端发送 DHCP 请求时，伪造的 DHCP 服务器会快速响应，试图将自己设为客户端的默认网关或 DNS 服务器。</li>\n<li>中间人攻击：通过设置默认网关或 DNS，攻击者可以截获并控制客户端的网络流量，作为中间人，拦截用户与实际网关之间的数据。这样，攻击者可以监视、篡改或阻断用户的网络流量。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/3e9cd9116e8ed666.png\" alt=\"image\"></li>\n</ol>\n</li>\n</ul>\n<ol start=\"2\">\n<li>DHCP 耗尽攻击（DHCP Starvation Attack）</li>\n</ol>\n<ul>\n<li>DHCP 耗尽攻击是一种拒绝服务攻击，攻击者利用多个 “从属主机” 向 DHCP 服务器发送大量 IP 地址请求，直到耗尽服务器的地址池。以下是攻击的具体过程：\n<ol>\n<li>大量请求：攻击者通过从属主机或伪造的 MAC 地址向 DHCP 服务器不断请求新的 IP 地址。</li>\n<li>地址池耗尽：随着大量虚假请求的积累，DHCP 服务器的 IP 地址池逐渐被占满。</li>\n<li>合法用户无法连接：由于服务器没有可分配的 IP 地址，合法客户端无法从 DHCP 服务器获得 IP 地址，从而无法连接到网络。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/298943f7c02b1624.png\" alt=\"image\"></li>\n</ol>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"DNS\" class=\"active\"><a class=\"anchor\"  href=\"#DNS\">#</a>DNS</h2>\n<ol>\n<li>名称解析响应类型</li>\n</ol>\n<ul>\n<li>权威响应（Authoritative Response）：\n<ul>\n<li>这种响应来自于被查询域名的权威 DNS 服务器。</li>\n<li>权威响应表明该 DNS 服务器对该域的 DNS 记录拥有直接管理权限，因此返回的数据是准确和最新的。</li>\n</ul>\n</li>\n<li>非权威响应（Non-authoritative Response）：\n<ul>\n<li>这种响应并非来自被查询域名的权威 DNS 服务器，而是来自缓存服务器或中间服务器。</li>\n<li>非权威响应通常是其他 DNS 服务器缓存的数据，可能并非实时更新，但可以加速查询过程</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>非权威响应示例</li>\n</ol>\n<ul>\n<li>首次查询\n<ol>\n<li>查询请求：客户端请求 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pYm0uY29t\">www.ibm.com</span> 的 IP 地址。</li>\n<li>查询根服务器：本地 DNS 服务器向根服务器查询 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pYm0uY29t\">www.ibm.com</span> 的地址。</li>\n<li>指向顶级域（TLD）服务器：根服务器返回可查询的 com 顶级域服务器列表。</li>\n<li>查询 com 顶级域服务器：本地 DNS 服务器向 com TLD 服务器查询 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pYm0uY29t\">www.ibm.com</span>。</li>\n<li>指向 <span class=\"exturl\" data-url=\"aHR0cDovL2libS5jb20=\">ibm.com</span> 的权威 DNS 服务器：com TLD 服务器提供 <span class=\"exturl\" data-url=\"aHR0cDovL2libS5jb20=\">ibm.com</span> 权威 DNS 服务器地址。</li>\n<li>查询 <span class=\"exturl\" data-url=\"aHR0cDovL2libS5jb20=\">ibm.com</span> 的 DNS 服务器：本地 DNS 服务器向 <span class=\"exturl\" data-url=\"aHR0cDovL2libS5jb20=\">ibm.com</span> 的 DNS 服务器请求 IP 地址。</li>\n<li>解析完成：<span class=\"exturl\" data-url=\"aHR0cDovL2libS5jb20=\">ibm.com</span> 的权威 DNS 服务器返回 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pYm0uY29t\">www.ibm.com</span> 的 IP 地址 129.42.38.10。</li>\n<li>返回 IP 地址：本地 DNS 服务器将该 IP 地址返回给客户端。</li>\n</ol>\n</li>\n<li>缓存和非权威响应\n<ul>\n<li>本地 DNS 服务器会将查询结果缓存一段时间。</li>\n<li>如果在缓存有效期内再次请求 <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pYm0uY29t\">www.ibm.com</span>，本地 DNS 服务器直接从缓存中返回 IP 地址，此时的响应即为非权威响应。</li>\n</ul>\n</li>\n</ul>\n<ol start=\"3\">\n<li>Vulnerabilities/Threats in DNS</li>\n</ol>\n<ul>\n<li>DNS 方案的基本漏洞：\n<ul>\n<li>缺乏身份验证：DNS 没有内置的身份验证机制，使得攻击者更容易伪装。</li>\n<li>缺乏响应的真实性和完整性检查：DNS 响应数据没有经过加密或验证，容易被篡改。</li>\n</ul>\n</li>\n<li>DNS 缓存污染攻击（DNS Cache Poisoning）：\n<ul>\n<li>原理：攻击者更改 DNS 服务器或 DNS 缓存服务器上的记录，使网络流量从合法的服务器重定向到恶意网站。</li>\n<li>效果：用户无意间访问到钓鱼网站，可能泄露敏感信息。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/2e4f0ec78949c3fe.png\" alt=\"image\"></li>\n</ul>\n</li>\n<li>DNS 泛洪攻击（DNS Flood Attack）：\n<ul>\n<li>原理：利用 DoS/DDoS 攻击，通过大量请求过载网络，耗尽网络容量和服务器资源。</li>\n<li>效果：合法用户无法访问 DNS 服务，导致网络中断。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/6ed8673589f212d0.png\" alt=\"image\"></li>\n</ul>\n</li>\n<li>DNS 欺骗（DNS Spoofing）：\n<ul>\n<li>原理：攻击者伪装成合法的 DNS 服务器，向客户端提供虚假的 DNS 响应。</li>\n<li>效果：用户可能被引导到虚假网站，面临数据泄露和安全威胁。<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/fc1bec998cfbdd83.png\" alt=\"image\"></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"Summary\" class=\"active\"><a class=\"anchor\"  href=\"#Summary\">#</a>Summary</h1>\n<ol>\n<li>Summary - Protocol Threats</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>Protocol</th>\n<th>Threats</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>IP</td>\n<td>IP Spoofing attack 、 Fragmentation attack</td>\n</tr>\n<tr>\n<td>ARP</td>\n<td>ARP Cache-poisoning attack  、 MITM (Man-in-the-Middle) attack</td>\n</tr>\n<tr>\n<td>ICMP</td>\n<td>Redirect attack  、 Ping of death attack</td>\n</tr>\n<tr>\n<td>TCP</td>\n<td>Predicting TCP Sequences  、 TCP SYN Flood attack</td>\n</tr>\n<tr>\n<td>DHCP</td>\n<td>DHCP Spoofing  、 Starvation attack</td>\n</tr>\n<tr>\n<td>DNS</td>\n<td>DNS Cache Poisoning  、 DNS Flood attack  、 DNS Spoofing</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"2\">\n<li>Summary- Security attacks</li>\n</ol>\n<ul>\n<li>Active attack\n<ul>\n<li>involves data modification or the creation of a false stream, e.g.\n<ul>\n<li>masquerade, replay, modification of messages, man-in-the-middle (MITM) and DoS/DDoS</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Passive attack\n<ul>\n<li>attempts to learn or make use of information from the system but does not affect system resources, e.g. traffic analysis, release of information contents</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "network system",
                "IP",
                "DHCP",
                "ICMP",
                "ARP",
                "TCP",
                "DNS",
                "Network Security"
            ]
        },
        {
            "id": "http://example.com/course/Layer-3-IP-Addressing-and-IP-related-Protocols/",
            "url": "http://example.com/course/Layer-3-IP-Addressing-and-IP-related-Protocols/",
            "title": "Layer 3 - IP Addressing and IP-related Protocols",
            "date_published": "2024-11-01T12:02:19.000Z",
            "content_html": "<h1 id=\"IP (Internet Protocol) Addressing\" class=\"active\"><a class=\"anchor\"  href=\"#IP (Internet Protocol) Addressing\">#</a>IP (Internet Protocol) Addressing</h1>\n<ol>\n<li>Four addressing methods innetworking</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>层级</th>\n<th>地址类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>应用层 (Layer 7)</td>\n<td>Domain names, computer names, host names</td>\n</tr>\n<tr>\n<td>传输层 (Layer 4)</td>\n<td>Port numbers</td>\n</tr>\n<tr>\n<td>网络层 (Layer 3)</td>\n<td>IP 地址（IPv4、IPv6）</td>\n</tr>\n<tr>\n<td>数据链路层 (Layer 2)</td>\n<td>MAC 地址</td>\n</tr>\n</tbody>\n</table>\n<p>Static IP addresses are assigned manually by the network administrator<br>\nDynamic IP addresses are assigned automatically by a DHCP server</p>\n<ol start=\"2\">\n<li>The Internet Assigned Numbers Authority (IANA)</li>\n</ol>\n<ul>\n<li>IANA delegates 5 regional Internet registries (RIRs)\n<ul>\n<li>RIRs allocate address blocks to Local Internet Registries / National Internet registry</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Internet Registry</th>\n<th>Region</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>African Network Information Centre (AfriNIC)</td>\n<td>Africa</td>\n</tr>\n<tr>\n<td>American Registry for Internet Numbers (ARIN)</td>\n<td>US, Canada, several parts of the Caribbean region, and Antarctica</td>\n</tr>\n<tr>\n<td>Asia-Pacific Network Information Centre (APNIC)</td>\n<td>Asia, Australia, New Zealand, and neighboring countries</td>\n</tr>\n<tr>\n<td>Latin America and Caribbean Network Information Centre (LACNIC)</td>\n<td>Latin America and parts of the Caribbean region</td>\n</tr>\n<tr>\n<td>Réseaux IP Européens Network Coordination Centre (RIPE NCC)</td>\n<td>Europe, Russia, the Middle East, and Central Asia</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Hierarchy of addressing Scheme<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/01/6724cb8ea345d.png\" alt=\"img\"></li>\n</ul>\n<ol start=\"3\">\n<li>Roles of the Network Layer</li>\n</ol>\n<ul>\n<li>The Network layer is where administrators usually do the most network configuration</li>\n<li>This layer is where the IP protocol operates and is the heart of the TCP/IP protocol suite</li>\n<li>The Network layer is responsible for four main tasks:\n<ul>\n<li>It defines and verifies IP addresses</li>\n<li>It routes packets through an internetwork</li>\n<li>It resolves MAC addresses from IP addresses</li>\n<li>It delivers packets efficiently</li>\n</ul>\n</li>\n</ul>\n<ol start=\"4\">\n<li>Define and Verify IP Addresses</li>\n</ol>\n<ul>\n<li>An IP address is assigned to every computer and network device using TCP/IP for communications</li>\n<li>IP addresses are used for two main purposes:\n<ul>\n<li>To identify a network device at the Internetwork layer</li>\n<li>To identify the network on which a device resides</li>\n</ul>\n</li>\n<li>When a device receives an IP packet, it compares the destination IP address with its own:\n<ul>\n<li>If it matches or is a broadcast, the packet is processed</li>\n<li>It is does not match then the packet is discarded</li>\n</ul>\n</li>\n<li>Every IP address contains two parts:\n<ul>\n<li>A network ID</li>\n<li>A host ID</li>\n</ul>\n</li>\n</ul>\n<ol start=\"5\">\n<li>Route Packets through an Internetwork</li>\n</ol>\n<ul>\n<li>The Network layer determines the best way to get a packet from network to network until it reaches its destination</li>\n<li>Most large internetworks (the Internet) have multiple paths for getting from one network to another</li>\n<li>Routers work at the Network layer\n<ul>\n<li>It is routers’ job to select the best path to the destination</li>\n<li>Routers use the network ID portion of IP addresses along with their routing tables to determine the best path</li>\n</ul>\n</li>\n</ul>\n<ol start=\"6\">\n<li>Resolve MAC Addresses from IP Addresses</li>\n</ol>\n<ul>\n<li>Every frame contains both physical (MAC) and logical (IP) source and destination addresses</li>\n<li>When a packet is ready to be sent to the Network access layer, the destination device’s MAC address must be retrieved before the frame header can be constructed</li>\n<li>TCP/IP uses Address Resolution Protocol (ARP) to find MAC addresses</li>\n</ul>\n<ol start=\"7\">\n<li>Deliver Packets Efficiently</li>\n</ol>\n<ul>\n<li>Network-layer protocols primarily focus on efficient delivery of packets\n<ul>\n<li>Features such as flow control, delivery confirmation or message assembly are <strong>not</strong> included in Network-layer protocols\n<ul>\n<li>These features require overhead to ensure reliable delivery</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Network-layer protocols rely on the protocols in the Transport and Application layers to provide reliability features\n<ul>\n<li>They are considered connectionless protocols, which rely on upper-layer protocols to ensure the safe journey of packets</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"IP (Internet Protocol)\" class=\"active\"><a class=\"anchor\"  href=\"#IP (Internet Protocol)\">#</a>IP (Internet Protocol)</h1>\n<h2 id=\"IPv4\" class=\"active\"><a class=\"anchor\"  href=\"#IPv4\">#</a>IPv4</h2>\n<ol>\n<li>IPv4 Addresses</li>\n</ol>\n<ul>\n<li>An IPv4 address is represented by 32 bits (=4 bytes)\n<ul>\n<li>IPv4 地址分为 4 个字节块（每个块 8 位），每个块用点分隔。</li>\n</ul>\n</li>\n<li>For example\n<ol>\n<li>Binary:  <code>00000001.00000010.10010101.11111111</code> <br>\nDecimal:  <code>1.2.149.255</code></li>\n<li>11000000 . 10101000 . 00000001 . 00000001<br>\n192.168.1.1<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/67258b5520113.png\" alt=\"img\"><br>\nClasses A, B and C licensed IP addresses are available for use on the Internet. Called public IP address</li>\n</ol>\n</li>\n<li>A 类地址\n<ul>\n<li>网络 ID：8 位（第 2 到第 8 位），主机 ID：24 位。</li>\n<li>地址范围：1.x.y.z – 126.x.y.z。</li>\n<li>可用网络数：126 个。</li>\n<li>适用场景：大型网络（如互联网服务提供商和政府机构）。</li>\n</ul>\n</li>\n<li>B 类地址\n<ul>\n<li>网络 ID：16 位（第 3 到第 16 位），主机 ID：16 位。</li>\n<li>地址范围：128.0.y.z – 191.255.y.z。</li>\n<li>可用网络数：16,000 个。</li>\n<li>适用场景：中型网络（如中型企业和大学）。</li>\n</ul>\n</li>\n<li>C 类地址\n<ul>\n<li>网络 ID：24 位（第 4 到第 24 位），主机 ID：8 位。</li>\n<li>地址范围：192.0.0.z – 223.255.255.z。</li>\n<li>可用网络数：约 2 百万个。</li>\n<li>适用场景：小型网络（如小型企业和家庭网络）</li>\n</ul>\n</li>\n<li>D 类地址\n<ul>\n<li>用途：多播地址。</li>\n<li>地址范围：224.0.0.0 – 239.255.255.255。</li>\n<li>网络结构：没有网络 ID 和主机 ID，专用于多播。</li>\n</ul>\n</li>\n<li>E 类地址\n<ul>\n<li>用途：实验用途。</li>\n<li>地址范围：240.0.0.0 – 255.255.255.255。</li>\n<li>说明：保留用于研究和实验，未用于常规互联网流量。</li>\n</ul>\n</li>\n<li>在 IPv4 地址中，127.x.y.z 地址范围（通常是 127.0.0.0 到 127.255.255.255）是保留用于本地主机环回（loopback）测试的特殊地址段。这些地址不会在网络上发送数据包，而是用于本地主机的自我通信，主要目的是测试本地网络堆栈和网络接口卡的功能。\n<ul>\n<li>127.x.y.z 的特点\n<ul>\n<li>环回地址：127.0.0.1 是最常用的环回地址，用于指向本地主机。</li>\n<li>网络测试：使用 127.x.y.z 范围内的地址，系统可以在不通过实际网络的情况下测试网络配置。</li>\n<li>不可路由：127.x.y.z 地址段不会在互联网上路由，数据包始终保持在本地。</li>\n<li>因此，127.x.y.z 地址不属于 A、B、C、D 或 E 类中的网络分配，而是专门保留给环回功能。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>IP 地址范围</th>\n<th>功能描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>255.255.255.255</td>\n<td>用于广播消息，TCP/IP 后台进程会使用该地址发送广播消息，网络中的每个节点都会接收该消息。</td>\n</tr>\n<tr>\n<td>0.0.0.0</td>\n<td>表示当前未分配的地址，一般用于指代 “所有 IPv4 地址” 或 “未知地址”。</td>\n</tr>\n<tr>\n<td>127.0.0.1 至 127.255.255.254</td>\n<td>用于环回测试，表示本地主机的地址，常用于测试网络堆栈（如 127.0.0.1 被称为环回地址）。</td>\n</tr>\n<tr>\n<td>169.254.0.1 至 169.254.255.254</td>\n<td>当设备配置为动态主机配置协议（DHCP）且无法从 DHCP 服务器获取地址时，会自动分配此范围内的地址（APIPA）。</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Private IP addresses<br>\n 在私有网络中，公司可以使用私有 IP 地址。这些地址在互联网上不进行路由，仅限于局域网内使用。<br>\nIEEE 推荐的私有 IP 地址范围：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>私有 IP 地址范围</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10.0.0.0 至 10.255.255.255</td>\n<td>用于大型私有网络</td>\n</tr>\n<tr>\n<td>172.16.0.0 至 172.31.255.255</td>\n<td>用于中型私有网络</td>\n</tr>\n<tr>\n<td>192.168.0.0 至 192.168.255.255</td>\n<td>用于小型私有网络（如家庭网络）</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Network Address Translation (NAT)<br>\n 网络地址转换 (NAT) 允许具有私有 IP 地址的主机访问互联网。私有 IP 地址在互联网上不可见，NAT 充当连接私有网络和公共网络的桥梁</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>NAT 类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SNAT (静态 NAT)</td>\n<td>每次主机请求访问互联网时，分配相同的公共 IP 地址。</td>\n</tr>\n<tr>\n<td>DNAT (动态 NAT)</td>\n<td>使用一个公共 IP 地址池，动态地为本地主机分配公共 IP 地址。</td>\n</tr>\n</tbody>\n</table>\n<p><img data-src=\"https://img.picui.cn/free/2024/11/02/67258fc64dac0.png\" alt=\"image\"></p>\n<ol start=\"2\">\n<li>Classless Addressing and Subnet Mask</li>\n</ol>\n<ul>\n<li>Using classful addresses is a waste of IP address resource</li>\n<li>Today, IP addresses are used as classless addresses\n<ul>\n<li>Clients do not apply for particular class of addresses. Instead, getting IP addresses from an ISP</li>\n<li>Most ISPs have already applied for a pool of IP addresses that can be leased to clients</li>\n</ul>\n</li>\n<li>For classless address, use a network mask to determine which part of address denoted the network portion\n<ul>\n<li>32-bit number</li>\n<li>1 signifies the networking bit in the address</li>\n<li>0 signifies the host bits in the address</li>\n</ul>\n</li>\n<li>Masking is a process to extract the address of the physical network from an IP address</li>\n<li>Usually when a router forwards packets from one network to another, it uses this masking to identify if the packets belong to its network or not</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>类别</th>\n<th>点分十进制表示</th>\n<th>二进制模式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>255.0.0.0</td>\n<td>11111111 00000000 00000000 00000000</td>\n</tr>\n<tr>\n<td>B</td>\n<td>255.255.0.0</td>\n<td>11111111 11111111 00000000 00000000</td>\n</tr>\n<tr>\n<td>C</td>\n<td>255.255.255.0</td>\n<td>11111111 11111111 11111111 00000000</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Example\n<ul>\n<li>掩码的工作原理：路由器可以通过掩码判断数据包是否属于其网络。某网络地址是 131.181.x.x，这是一个 B 类地址，其默认网络掩码为 255.255.0.0。</li>\n<li>IP 地址：131.181.112.6（十进制）或 10000011 10110101 01110000 00000110（二进制）</li>\n<li>网络掩码：255.255.0.0（十进制）或 11111111 11111111 00000000 00000000（二进制）</li>\n<li>通过 逻辑与（AND）操作 提取网络地址：<br>\n将 IP 地址和掩码逐位进行 AND 运算：<br>\n10000011 10110101 01110000 00000110（IP 地址）<br>\n11111111 11111111 00000000 00000000（掩码）<br>\n结果：10000011 10110101 00000000 00000000（网络地址）<br>\n网络地址：131.181.0.0</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>A</th>\n<th>B</th>\n<th>A AND B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Representation of classless addresses\n<ol>\n<li>Address with a subnet mask</li>\n</ol>\n<ul>\n<li>131.181.12.1 subnet mask 255.255.0.0</li>\n</ul>\n<ol start=\"2\">\n<li>Address with a / (slash) representation</li>\n</ol>\n<ul>\n<li>131.181.12.1/16</li>\n<li>/16 means that the first 16 bits are representing the network portion<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/6725988122218.png\" alt=\"image\"></li>\n</ul>\n<ol>\n<li>Hosts A 和 B 是否在同一网络中？</li>\n</ol>\n<ul>\n<li>是的。Host A 的 IP 地址是 192.168.1.10，子网掩码是 255.255.255.0。Host B 的 IP 地址是 192.168.1.11，子网掩码也是 255.255.255.0。使用该子网掩码，网络 ID 是 192.168.1.0，因此 Host A 和 Host B 在同一网络中。</li>\n</ul>\n<ol start=\"2\">\n<li>Hosts A 和 C 是否在同一网络中？</li>\n</ol>\n<ul>\n<li>否。Host A 的网络 ID 是 192.168.1.0，而 Host C 的 IP 地址是 192.168.2.10，子网掩码是 255.255.255.0，其网络 ID 是 192.168.2.0。因此，Host A 和 Host C 不在同一网络中。</li>\n</ul>\n<ol start=\"3\">\n<li>如何让 Host A 能够 ping Host C？需要使用路由器来连接两个网络。由于 Host A 和 Host C 位于不同的网络段（192.168.1.0 和 192.168.2.0），需要通过路由器来转发数据包，从而实现跨网络的通信</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"IPv6\" class=\"active\"><a class=\"anchor\"  href=\"#IPv6\">#</a>IPv6</h2>\n<ul>\n<li>An IPv6 address is represented by 128 bits (=16 bytes)\n<ul>\n<li>Organized in 8 blocks</li>\n<li>Each block consists of 2 bytes (=16 bits) represented by a hexadecimal number\n<ul>\n<li>2001:0000:0B80:0000:0000:00D3:9C5A:00CC</li>\n</ul>\n</li>\n<li>If blocks contain all zeroes, they can be written as double colons (:😃, only one set of double colons is used in an I P address\n<ul>\n<li>2001::B80:0000:0000:D3:9C5A:CC</li>\n<li>2001:0000:B80::D3:9C5A:CC (preferred method because it contains fewest zeroes)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Co-existence of IPv4 and IPv6\n<ol>\n<li>Dual stack: A network is configured to use both I Pv4 and IPv6<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/67259c726bfc0.png\" alt=\"image\"><br>\n 适用于需要与 IPv4 和 IPv6 网络都兼容的网络环境</li>\n<li>Tunnelling: A method used by IPv6 to transport IPv6 packets through or over an IPv4 network<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/67259c7288d2e.png\" alt=\"image\"><br>\n 适用于尚未完全升级到 IPv6 的网络，以便在 IPv4 网络上实现 IPv6 通信</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"Internet Protocol\" class=\"active\"><a class=\"anchor\"  href=\"#Internet Protocol\">#</a>Internet Protocol</h2>\n<ol>\n<li>IP (Internet Protocol)</li>\n</ol>\n<ul>\n<li>IP operates at the Network layer of the OSI model:\n<ul>\n<li>It specifies where data should be delivered to</li>\n<li>It identifies the data’s source and destination IP addresses</li>\n</ul>\n</li>\n<li>IP implements two basic functions:\n<ul>\n<li>Addressing: Each network device is given an IP address</li>\n<li>Fragmentation: A large-size datagram is broken down to small ones for forwarding</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Features of IP</li>\n</ol>\n<ul>\n<li>IP enables TCP/IP to internetwork\n<ul>\n<li>The Internet is largely based on the IP protocol</li>\n<li>It enables to traverse\n<ul>\n<li>more than one LAN segment, and</li>\n<li>more than one type of network through a router</li>\n</ul>\n</li>\n<li>IP addresses are not really needed for communication within a LAN\n<ul>\n<li>MAC addresses are sufficient in this case</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>IP is an unreliable, connectionless protocol\n<ul>\n<li>This means that IP does not guarantee delivery of data and no session is established before data is transmitted</li>\n<li>IP depends on TCP to ensure messages are put back together in the right order and to ensure each message reaches the correct application on the receiving host</li>\n</ul>\n</li>\n</ul>\n<ol start=\"3\">\n<li>IP Header<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/6725a2a0e124d.png\" alt=\"image\"></li>\n</ol>\n<ul>\n<li><strong>IHL (Internet Header Length)</strong>: 表示 IP 头部的长度。</li>\n<li><strong>Total Length Field</strong>: 指数据包的总长度，包括头部和数据部分。</li>\n<li><strong>Identification</strong>: 每个数据包被赋予一个唯一的 ID。若数据包被分片，每个分片都拥有相同的 ID 以便重组。</li>\n<li><strong>Time to Live (TTL)</strong>: 数据包的生命周期（生存时间），每经过一个路由器，该值减少 1，TTL 为 0 时数据包将被丢弃，防止数据包在网络中无限循环。</li>\n<li><strong>Protocol Field</strong>: 指定传输层协议类型（如 TCP 或 UDP），以便路由器知道数据包应该由哪个传输层协议处理。</li>\n</ul>\n<ol start=\"4\">\n<li>Maximum Transmission Unit (MTU)</li>\n</ol>\n<ul>\n<li>MTU is the size of the largest protocol data unit (PDU) that can be communicated in a single network-layer transaction\n<ul>\n<li>Similar to the maximum Parcel Size in the postal system</li>\n</ul>\n</li>\n<li>MTU relates to, but is different from, the maximum frame size that can be transported on the data link layer</li>\n</ul>\n<ol start=\"5\">\n<li>IP Fragmentation</li>\n</ol>\n<ul>\n<li>If a datagram is being sent that is larger than the receiving server’s MTU, it has to be fragmented in order to be transmitted completely.</li>\n<li>Fragmentation is necessary for data transmission, as every network has a unique limit, i.e. the maximum transmission unit (MTU), for the size of datagrams that it can process.</li>\n<li>The 3-bit flags field in the IP header specifies fragmentation is allowed or not\n<ul>\n<li>U 位：未使用。</li>\n<li>D 位（Do Not Fragment bit）：如果设置该位，表示不允许分片；如果数据报大于 MTU，则会被丢弃。</li>\n<li>M 位（More Fragments bit）：如果设置该位，表示后续还有更多分片；如果该位未设置，表示这是最后一个分片。</li>\n</ul>\n</li>\n</ul>\n<ol start=\"6\">\n<li>Fragment Offset (13 bits)</li>\n</ol>\n<ul>\n<li>Fragment offset shows where to place packet’s data when fragments are reassembled into a single packet</li>\n<li>The offset of the data in the original datagram measured in units of 8 bytes\n<ul>\n<li>The first fragment has a zero offset</li>\n</ul>\n</li>\n<li>The offset only records the 1st byte number of that fragmented packet<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/6725a637a3adf.png\" alt=\"image\"></li>\n<li>Issues with IPv4 Fragmentation\n<ul>\n<li>Fragmentation causes more overhead (time and resources) for the receiver when reassembling the fragments, because the receiver must allocate memory for the arriving fragments and coalesce them back into one datagram after all of the fragments are received.</li>\n</ul>\n</li>\n<li>If one fragment of an IPv4 datagram is dropped, then the entire original IPv4 datagram must be resent</li>\n<li>IPv6 packets:\n<ul>\n<li>IPv6 uses a different packet format than IPv4</li>\n<li>Accommodate the much longer IPv6 addresses</li>\n<li>There is no Fragment offset field<br>\n• IPv6 hosts adjust their packet sizes to fit the requirements of the network before sending IPv6 messages<br>\n<img data-src=\"https://img.picui.cn/free/2024/11/02/6725ab470399d.png\" alt=\"image\"></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"DHCP (Dynamic Host Configuration Protocol)\" class=\"active\"><a class=\"anchor\"  href=\"#DHCP (Dynamic Host Configuration Protocol)\">#</a>DHCP (Dynamic Host Configuration Protocol)</h1>\n<ul>\n<li>DHCP is not a pure layer-3 protocol. It is an IP address management protocol, and this generally works at layer 7</li>\n<li>DHCP is a network management protocol. So, strictly speaking, it works at Layer 7</li>\n<li>A DHCP server dynamically assigns an IP address to a network device. It enables computers to request IP addresses and networking parameters automatically from the Internet Service Provider (ISP)</li>\n</ul>\n<h1 id=\"ICMP (Internet Control Message Protocol)\" class=\"active\"><a class=\"anchor\"  href=\"#ICMP (Internet Control Message Protocol)\">#</a>ICMP (Internet Control Message Protocol)</h1>\n<ul>\n<li>\n<p>ICMP is a Network layer, core protocol that reports on the success or failure of data delivery</p>\n</li>\n<li>\n<p>ICMP can indicate:</p>\n<ul>\n<li>When part of a network is congested</li>\n<li>When data fails to reach its destination</li>\n<li>When data has been discarded because the allotted TTL (Time to Live) has expired</li>\n</ul>\n</li>\n<li>\n<p>ICMP announces transmission failures to the sender. But does not correct errors it detects</p>\n</li>\n<li>\n<p>Provides critical information for troubleshooting network problems</p>\n</li>\n<li>\n<p>ICMPv6 on IPV6 networks performs the functions of both ICMP and ARP on IPv4 networks</p>\n</li>\n<li>\n<p>ICMP 数据包包含以下字段，用于提供不同的控制和错误信息：</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>字段</th>\n<th>长度</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Type</strong></td>\n<td>8 位</td>\n<td>指示 ICMP 消息的类型，例如 “目的不可达”。</td>\n</tr>\n<tr>\n<td><strong>Code</strong></td>\n<td>8 位</td>\n<td>指示消息的子类型，例如 “目标主机未知”。</td>\n</tr>\n<tr>\n<td><strong>Checksum</strong></td>\n<td>16 位</td>\n<td>用于检测 ICMP 数据包在传输过程中是否损坏。</td>\n</tr>\n<tr>\n<td><strong>Rest of header</strong></td>\n<td>32 位</td>\n<td>根据消息类型和子类型的不同而变化。</td>\n</tr>\n<tr>\n<td><strong>Data</strong></td>\n<td>可变长度</td>\n<td>通常包含触发 ICMP 消息的 IP 数据包的 IP 头和前 8 字节的数据部分。</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"ARP (Address Resolution Protocol)\" class=\"active\"><a class=\"anchor\"  href=\"#ARP (Address Resolution Protocol)\">#</a>ARP (Address Resolution Protocol)</h1>\n<ol>\n<li>ARP (Address Resolution Protocol)</li>\n</ol>\n<ul>\n<li>ARP is not a pure layer-3 protocol, nor a pure layer-2 protocol. It generally works at layer 2 by using layer 3 IP address information</li>\n<li>ARP works in conjunction with IPv4 to discover the MAC address of a host or node on the local network\n<ul>\n<li>And to maintain a database that maps IP addresses to MAC addresses on the local network</li>\n</ul>\n</li>\n<li>ARP is a Layer 2 protocol that uses Layer 3’s IP address information\n<ul>\n<li>It operates only within its local network</li>\n</ul>\n</li>\n<li>ARP relies on broadcasting</li>\n</ul>\n<ol start=\"2\">\n<li>ARP Table</li>\n</ol>\n<ul>\n<li>ARP table—The database of IP-to-MAC address mappings</li>\n<li>An ARP table can contain two types of entries:\n<ul>\n<li>Dynamic—Created when a client makes an ARP request that could not be satisfied by data already in the ARP table</li>\n<li>Static—Those someone entered manually using the ARP utility (arp command)</li>\n</ul>\n</li>\n<li>Check ARP table\n<ul>\n<li>arp -a<br>\n<img data-src=\"https://cdn-fusion.imgcdn.store/i/2024/ac317e8c48a595ab.png\" alt=\"image\"></li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "network system",
                "IP",
                "DHCP",
                "ICMP",
                "ARP"
            ]
        }
    ]
}